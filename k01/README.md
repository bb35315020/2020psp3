# 課題1 レポート
学籍番号　氏名


## 課題
長崎県にある市町村別人口データを読み込み、IDを用いて検索し、該当する市町村名、人口を出力するプログラムを作成する。

1. 使用するデータ
長崎県の人口データは、nagasaki.csvに保存されている。
nagasaki.csvには、csv形式で以下のデータが含まれる
    - ID
    - 県名
    - 市町村名
    - 人口
    - 男性人口
    - 女性人口

    長崎県の市町村別人口データは、下記に構造体の配列に読み込まれる。

```C: 市町村別データ構造体
typedef struct {  
    int id;  
    char pref[13];  // UTF-8対応  
    char name[19];  // UTF-8対応  
    int population;  
    int m_population;  
    int f_population;  
} City;  
```



2. 必須問題：実装する関数  
本課題では、以下の関数を実装する。  
   (1) LinearSearch：IDをキーとし、リニアサーチで市町村を検索する。  
    [入力]
    - int key: 検索する市町村のID
    - City arrayCity: 検索対象の都市別人口データ(配列)
    - int size: データの数  

    [出力]  
    - return値: IDが合致した配列データのindex。IDが一致するデータがない場合は-1。

    (2) BinarySearch: IDをキーとし、バイナリサーチで市町村を検索する。  
    [入力]
    - int key: 検索する市町村のID
    - City arrayCity: 検索対象の都市別人口データ(配列)
    - int left: バイナリサーチを行う配列のindex(左端)
    - int right: バイナリサーチを行う配列のindex(右端)  

    [出力]  
    - return値: IDが合致した配列データのindex。IDが一致するデータがない場合は-1。


3. 補助関数
以下の関数はすでに実装されており、利用することができる。  
- PrintCity: 特定の市町村別人口データを出力する  
- PrintArray: 市町村別人口データをすべて出力する  
- LoadData: 市町村別人口データを読み込み、City型の配列に格納する  
- main: メイン関数。データをロードし、リニアサーチ、バイナリサーチを呼び出す  


## ソースコードの説明
//int key :検索する市町村のＩＤ
//City arrayCity[]:検索対象の都市別人口データ
//int size: データの数
int LinearSearch(int key, City arrayCity[], int size)
{
    int pos;
    int result = -1;

    for (pos=0; pos<size; pos++) {

        /* IDを先頭から順に１つずつ比較　*/
        if (arrayCity[pos].id  == key){

            /* 一致したら探索終了 */
            return pos;
            
        }
    }

    /*見つからなかった場合-1を返す*/ 
    return result;

}

/*BinarySerch関数*/

int BinarySearch(int key, City arrayCity[], int left, int right)
{
    int mid;
    int ret;

    if (right < left){
        /* 探索する範囲が0になったら終了 */
        return -1;
    }

    /* データの集合の中央の位置を計算 */
    mid = left + (right - left) / 2;
    
    /* 探索したい数字と集合の中央の位置の数字の差を計算 */
    ret = key - arrayCity[mid].id;

    if(ret == 0){

        /* 差がない場合中央の位置が探索したいデータ　*/
        return mid;
    }

    if(ret > 0){
        /* 差が１以上の場合は中央より後方を新しい集合として再度探索 */
        ret = BinarySearch(key,arrayCity,mid+1,right);
    }else{
        /* 差が-1以下の場合は中央より残報を新しい集合として再度探索 */
        ret = BinarySearch(key,arrayCity,left,mid-1);
    }

    return ret;


}


## 出力結果

```

C:\Users\bb35315020\Documents\プログラミング演習Ⅲ\2020psp3\k01>.\k01
42201, 長崎県, 長崎市, 429508, 198716, 230792
42202, 長崎県, 佐世保市, 255439, 120198, 135241
42203, 長崎県, 島原市, 45436, 20999, 24437
42204, 長崎県, 諫早市, 138078, 65029, 73049
42205, 長崎県, 大村市, 92757, 43938, 48819
42207, 長崎県, 平戸市, 31920, 14874, 17046
42208, 長崎県, 松浦市, 23309, 11164, 12145
42209, 長崎県, 対馬市, 31457, 15361, 16096
42210, 長崎県, 壱岐市, 27103, 12860, 14243
42211, 長崎県, 五島市, 37327, 17339, 19988
42212, 長崎県, 西海市, 28691, 14032, 14659
42213, 長崎県, 雲仙市, 44115, 20847, 23268
42214, 長崎県, 南島原市, 46535, 21574, 24961
42307, 長崎県, 長与町, 42548, 20090, 22458
42308, 長崎県, 時津町, 29804, 14326, 15478
42321, 長崎県, 東彼杵町, 8298, 3886, 4412
42322, 長崎県, 川棚町, 14067, 6656, 7411
42323, 長崎県, 波佐見町, 14891, 7079, 7812
42383, 長崎県, 小値賀町, 2560, 1172, 1388
42391, 長崎県, 佐々町, 13626, 6426, 7200
42411, 長崎県, 新上五島町, 19718, 9197, 10521

===== linear search =====
City ID?42322
42322, 長崎県, 川棚町, 14067, 6656, 7411

===== binary search =====
City ID?42411
42411, 長崎県, 新上五島町, 19718, 9197, 10521




C:\Users\bb35315020\Documents\プログラミング演習Ⅲ\2020psp3\k01>.\k01
42201, 長崎県, 長崎市, 429508, 198716, 230792
42202, 長崎県, 佐世保市, 255439, 120198, 135241
42203, 長崎県, 島原市, 45436, 20999, 24437
42204, 長崎県, 諫早市, 138078, 65029, 73049
42205, 長崎県, 大村市, 92757, 43938, 48819
42207, 長崎県, 平戸市, 31920, 14874, 17046
42208, 長崎県, 松浦市, 23309, 11164, 12145
42209, 長崎県, 対馬市, 31457, 15361, 16096
42210, 長崎県, 壱岐市, 27103, 12860, 14243
42211, 長崎県, 五島市, 37327, 17339, 19988
42212, 長崎県, 西海市, 28691, 14032, 14659
42213, 長崎県, 雲仙市, 44115, 20847, 23268
42214, 長崎県, 南島原市, 46535, 21574, 24961
42307, 長崎県, 長与町, 42548, 20090, 22458
42308, 長崎県, 時津町, 29804, 14326, 15478
42321, 長崎県, 東彼杵町, 8298, 3886, 4412
42322, 長崎県, 川棚町, 14067, 6656, 7411
42323, 長崎県, 波佐見町, 14891, 7079, 7812
42383, 長崎県, 小値賀町, 2560, 1172, 1388
42391, 長崎県, 佐々町, 13626, 6426, 7200
42411, 長崎県, 新上五島町, 19718, 9197, 10521

===== linear search =====
City ID?12345
city was not found

===== binary search =====
City ID?23
city was not found

```

## 修正履歴

